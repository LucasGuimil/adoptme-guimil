paths: 
  /api/pets/:
    get:
      summary: "Return all pets in the database."
      tags: 
        - Pets 
      responses: 
        "200":
          description: "All pets have been retreived from the database successfully!"
          content: 
            application/json:
              schema:
                type: array
                items: 
                  $ref: '#/components/schemas/Pet'
        "500":
          description: "Error trying to get all pets."
    post:
      summary: "Create a new pet"
      tags: 
        - Pets 
      requestBody:
        required: true
        content: 
          application/json:
            schema: 
              $ref: '#components/requestBodies/createPet'
      responses: 
        "200":
          description: "New pet created successfully!"
          content: 
            application/json:
              schema:
                type: array
                items: 
                  $ref: '#/components/schemas/Pet'
        "400":
          description: "One or more properties are missing"
        "500":
          description: "Error trying to create new pet."
  /api/pets/withimage:
    post:
      summary: "Create a new pet with an image"
      tags: 
        - Pets 
      requestBody:
        required: true
        content: 
          application/json:
            schema: 
              $ref: '#components/requestBodies/createPetWithImage'
      responses: 
        "200":
          description: "New pet created successfully!"
          content: 
            application/json:
              schema:
                type: array
                items: 
                  $ref: '#/components/schemas/Pet'
        "400":
          description: "One or more properties are missing"
        "500":
          description: "Error trying to create new pet."
  /api/pets/{pid}:
    put:
      summary: Modify the pet's information by ID
      tags:
        - Pets
      parameters:
        - name: pid
          in: path
          required: true
          description: Pet's ID to search in the database.
          schema:
            type: string
      requestBody: 
        required: true
        content: 
          application/json:
            schema: 
              $ref: '#components/requestBodies/updatePet'
      responses:
        "200":
          description: Pet updated successfully.
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/Pet'
        "404":
          description: Pet not found.
        "500":
          description: Error trying to update pet by ID.
    delete:
      summary: Delete a pet by ID
      tags:
        - Pets
      parameters:
        - name: pid
          in: path
          required: true
          description: Pet's ID to search and delete from the database.
          schema:
            type: string
      responses:
        "200":
          description: Pet deleted successfully.
        "404":
          description: Pet not found.
        "500":
          description: Error trying to delete pet by ID.


components: 
  schemas: 
    Pet: 
      type: object
      properties: 
        _id: 
          type: ObjectId
          description: "Autogenerated ID from MongoDB."
        name:
          type: string
          description: Pet's name
        specie: 
          type: string
          description: Pet's specie
        birthDate:
          type: date
          description: Pet's date of birth in format YYYY-MM-DD
        adopted: 
          type: boolean
          description: Indicates if the pet is already adopted, has a default value of false
        owner: 
          type: string
          description: The ID of the owner of the pet
        image: 
          type: string
          description: URL with the image of the pet.
      example:
        _id: ObjectId("64af3ead2d3a8cac83dfbc34")
        name: Pepe
        specie: Toad
        birthDate: 2025-11-10
        adopted: "false"
        owner: ""
        image: "http://example.com/images/pepe"
  requestBodies:
    createPet: 
      type: object
      properties: 
        name:
          type: string
          description: New pet's name
          required: true
        specie: 
          type: string
          description: New pet's specie
          required: true
        birthDate:
          type: date
          description: New pet's date of birth in format YYYY-MM-DD
          required: true
        adopted: 
          type: boolean
          description: Indicates if the new pet is already adopted, has a default value of false
        owner: 
          type: string
          description: The ID of the owner of the new pet
      example: 
        name: Nemo
        specie: fish
        birthDate: 30/12/2024
    createPetWithImage: 
      type: object
      properties: 
        name:
          type: string
          description: New pet's name
          required: true
        specie: 
          type: string
          description: New pet's specie
          required: true
        birthDate:
          type: date
          description: New pet's date of birth in format YYYY-MM-DD
          required: true
        adopted: 
          type: boolean
          description: Indicates if the new pet is already adopted, has a default value of false
        owner: 
          type: string
          description: The ID of the owner of the new pet
        image: 
          type: string
          description: Path to the pet's image.
          required: true
      example: 
        name: Garfield
        specie: cat
        birthDate: 2023-12-25
        image: "example.com/image/garfield-foto"
    updatePet: 
      type: object
      properties: 
        name:
          type: string
          description: New pet's name
        specie: 
          type: string
          description: New pet's specie
        birthDate:
          type: date
          description: New pet's date of birth in format YYYY-MM-DD
        image: 
          type: string
          description: Path to the pet's image.
      example: 
        name: Manuelita
        specie: turtle
        birthDate: 1996-10-15
